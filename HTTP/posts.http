@hostname = localhost
@port = 3333
@host = {{hostname}}:{{port}}
@contentType = application/json

@lastPost = 0

###
@email = alexcool68@free.fr
@password = 123456789

###
# @name login
@authToken = Bearer {{login.response.body.token}}
POST http://{{host}}/api/auth/login HTTP/1.1
Content-Type: {{contentType}}

{
    "email": "{{email}}",
    "password": "{{password}}"
}

### POST a article
# @name postArticle
@lastPost = {{postArticle.response.body.id}}
POST http://{{host}}/api/posts/store HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
    "title": "A tidzadtle 3",
    "content": "someazdzad content 3",
    "isPublished": true
}

### READ
# @name readArticle
GET http://{{host}}/api/posts HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}

### READ ID
# @name readArticle
GET http://{{host}}/api/posts/3 HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}

### EDIT a article
# @name editArticle
PATCH http://{{host}}/api/posts/{{lastPost}} HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
    "title": "A title 22222",
    "content": "some content zdzadzadadad2",
    "isPublished": true
}

### EDIT a article that not belongs
# @name editArticle
PATCH http://{{host}}/api/posts/3 HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
    "title": "A tifzftle 2fezf2222",
    "content": "some conzeftent zdzadzadadad2",
    "isPublished": true
}

### DELETE a article
# @name deleteArticle
DELETE http://{{host}}/api/posts/49 HTTP/1.1
Content-Type: {{contentType}}
Authorization: {{authToken}}